"resource/layout/appdownloadpanel.layout"
{
	controls
	{
		// this just sets the height
		appdownloadpanel	{ tall="160" }
		
		// black fill, used on the background
		bgimage1	{ controlname="ImagePanel"	zpos="-1"	style="panelBgColorActive" }
		
		// top row
		namelabel	{ controlname="Label"	labelText="%name%" style="ModuleHeading" }
		dashlabel	{ controlname="Label"	labelText="" }
		updatetypelabel	{ controlname="Label"	labelText="#steam_downloads_updating" style=ModuleHeading2 }
		starttimelabel	{ controlname="Label"	labelText="#steam_downloads_initiated" style=Label2 }
		starttimefield	{ controlname="Label"	labelText="%time_started%" style=Label }
		pauseresumebutton	{ controlname="Button" style="SmPauseButton" tooltiptext="#steam_downloads_pause" }
		
		// second row
		gameimage		{ controlname="ImagePanel"	wide="184" tall="69" }	// set the initial size on on the gameimage; it's loaded async, so it may not know the image size immediately
		downloadtotallabel	{ controlname="Label"	labelText="#steam_downloads_gamesize_update" style="label2" }
		downloadtotalfield	{ controlname="Label"	labelText="%download_totals%" style="label" style="label" }
		
		timeremaininglabel	{ controlname="Label"	labelText="#steam_downloads_timeremaining" style="label2" group="HideOnCompletion" }
		timeremainingfield	{ controlname="Label"	labelText="%time_remaining%"  style="label" group="HideOnCompletion" }
		
		downloadprogressbar	{ controlname="ProgressBar" style="ProgressBar" barinset=0 continuous=1 group="HideOnCompletion" }
		
		// right pane
		graphpanel		{ controlname="GraphPanel"	style="infoGraphic" group="HideOnCompletion" }
		graphdownloadrate	{ controlname="Label"	labelText="#steam_downloads_currentrate" zpos="1" style="test" group="HideOnCompletion" }
		
		// button row
		launchbutton		{ controlname="Button"	style="DetailsLaunchButton"	labelText="#Steam_LaunchGame" zpos="1" }
		newslink			{ controlname="URLlabel"	style="links"		labelText="#steam_downloads_updatenews" }
		librarylink		{ controlname="URLlabel"	style="links"		labelText="#steam_downloads_showinlibrary" }
	}
	
	colors
	{
		BackgroundStart="20 22 24 180"
	}
	
	styles
	{
		links
		{
			textcolor="text"
			font-size=16
			font-family=basefont
			font-style="regular"
			padding-left=18
			padding-top=0
			padding-bottom=0
		}
		
		links:hover
		{
			textcolor="white"
		}
		
		rightcolumnlink:hover
		{
			textcolor=TextHover
		}
		
		infoGraphic
		{
			inset="3 3 3 3"
			textcolor="TextTitle"
			bgcolor="PropertySheetBG"
   			render_bg
 			{
				// Border
				1="fill( x0    , y0    , x1    , y0 + 1, Black )"	// top
				2="fill( x0    , y1 - 1, x1    , y1    , Black )"	// bottom
				3="fill( x0    , y0 + 1, x0 + 1, y1 - 1, Black )"	// left
				4="fill( x1 - 1, y0 + 1, x1    , y1 - 1, Black )"	// right
			}
		}
		
		Label
		{
			textcolor="Text"
			font-size=14
			font-family=basefont
		}
		
		label2
		{
			textcolor="Label"
			font-size=14
			font-family=basefont
		}
		
		ModuleHeading
		{
			textcolor="GameDetailsBlue"
			font-size="17"
			font-family=semibold
			font-weight="500"
			padding-top="0"
			bgcolor="none"
		}
		
		ModuleHeading2
		{
			textcolor="Highlight2"
			font-size="16"
			font-family=basefont
			font-weight="400"
			font-style=outerglow
			font-outerglow-color="TextD"
			font-outerglow-offset=1
			font-outerglow-filtersize=1
			padding-top="0"
			bgcolor="none"
		}
		
		panelBgColorActive
		{
			render_bg
			{
				// -- Header
				0="fill( x0 + 10, y0 + 1 , x1 - 1, y0 + 23, BackgroundStart )"			// Background
				1="image( x0 + 12, y0 + 3, x1 - 3, y0 + 21, graphics/headerbg )"		// Background Pattern
				2="fill( x0 + 11, y0 + 2 , x1 - 2, y0 + 22, BlackTr )"					// Pattern Mask
				3="fill( x1 - 3, y0 + 2 , x1 - 2, y0 + 22, BMask )"						// Right Border Mask
				4="image( x0 + 13, y0 + 4, x0 + 29, y0 + 20, graphics/harrow_hover )"	// Icon
				
				// Outter Border
				5="fill( x0 + 9, y0 + 0 , x1 - 0 , y0 + 1 , Black )"	// Top
				6="fill( x0 + 9, y0 + 23, x1 - 0 , y0 + 24, Black )"	// Bottom
				7="fill( x0 + 9, y0 + 1 , x0 + 10, y0 + 23, Black )"	// Left
			    8="fill( x1 - 1, y0 + 1 , x1 - 0 , y0 + 23, Black )"	// Right
				
				// Inner Border
				 9="fill( x0 + 10, y0 + 1 , x1 - 1 , y0 + 2 , ScreenB  )"	// Top
				10="fill( x0 + 10, y0 + 22, x1 - 1 , y0 + 23, ScreenB2 )"	// Bottom
				11="fill( x0 + 10, y0 + 2 , x0 + 11, y0 + 22, ScreenB  )"	// Left
			    12="fill( x1 - 2 , y0 + 2 , x1 - 1 , y0 + 22, ScreenB3 )"	// Right - No transparency
				
				// -- Body
				13="fill( x0 + 11, y0 + 28, x1 - 2, y0 + 148, DialogBG )"	// Background
				
				// Outer Border
				14="fill( x0 + 9, y0 + 26 , x1     , y0 + 27 , Black )"	// Top
				15="fill( x0 + 9, y0 + 149, x1     , y0 + 150, Black )"	// Bottom
				16="fill( x0 + 9, y0 + 27 , x0 + 10, y0 + 149, Black )"	// Left
				17="fill( x1 - 1, y0 + 27 , x1     , y0 + 149, Black )"	// Right
				
				// Inner Border
				18="fill( x0 + 10, y0 + 27 , x1 - 1 , y0 + 28 , ScreenB  )"	// Top
				19="fill( x0 + 10, y0 + 148, x1 - 1 , y0 + 149, ScreenB2 )"	// Bottom
				20="fill( x0 + 10, y0 + 28 , x0 + 11, y0 + 148, ScreenB  )"	// Left
				21="fill( x1 - 2 , y0 + 28 , x1 - 1 , y0 + 148, ScreenB2 )"	// Right
				
				// Hidden Progress Bar
				22="fill( x0 + 226, y0 + 63, x0 + 433, y0 + 79, PropertySheetBG )"	// Progress Bar BG
				23="fill( x0 + 226, y0 + 63, x0 + 433, y0 + 79, Focus )"			// Progress Bar Fill
				24="fill( x0 + 225, y0 + 62, x0 + 434, y0 + 63, black )"			// Top Border
				25="fill( x0 + 225, y0 + 79, x0 + 434, y0 + 80, black )"			// Bottom Border
				26="fill( x0 + 225, y0 + 63, x0 + 226, y0 + 79, black )"			// Left Border
				27="fill( x0 + 433, y0 + 63, x0 + 434, y0 + 79, black )"			// Right Border
				
				// Game Image Border
				28="fill( x0 + 23, y0 + 40, x0 + 209, y0 + 111, Black )"
				
				// Info, Details & News Icons
				29="image( x0 + 225, y0 + 43 , x0 + 241, y0 + 59 , graphics/icon_welcome )"
				30="image( x0 + 224, y0 + 121, x0 + 240, y0 + 137, graphics/icon_button_search )"
				31="image( x0 + 316, y0 + 121, x0 + 332, y0 + 137, graphics/icon_recentnews )"
			}
		}
		
		test
		{
			font-size=14
			font-family=basefont
			font-style="regular"
			padding-left="10"
			padding-right="20"
		}
		
		DetailsLaunchButton // Play Button
		{   
			inset="75 0 0 0"
			font-family=semibold
			font-size=16
			font-weight=400
			textcolor="White"
			font-style="uppercase"
			bgcolor=none
			render
			{
				0="image( x0 + 65, y0 + 3, x1, y1, graphics/play_dl )"
			}
			render_bg
			{
				// Background
				0="gradient( x0 + 1, y0 + 1, x1 - 1, y1 - 1, PlayBG1, PlayBG2 )"
                
				// Border
				1="fill( x0 + 1, y0    , x1 - 1, y0 + 1, PlayTP )"	// Top
				2="fill( x0 + 1, y1 - 1, x1 - 1, y1    , PlayBT )"	// Bottom
				3="gradient( x0    , y0 + 1, x0 + 1, y1 - 1, PlaySD1, PlaySD2 )"	// Left
				4="gradient( x1 - 1, y0 + 1, x1    , y1 - 1, PlaySD1, PlaySD2 )"	// Right
				
				// Corners
				5="fill( x0    , y0    , x0 + 1, y0 + 1, PlayTL )"	// Top Left
				6="fill( x1 - 1, y0    , x1    , y0 + 1, PlayTR )"	// Top Right
				7="fill( x0    , y1 - 1, x0 + 1, y1    , PlayBL )"	// Bottom Left
				8="fill( x1 - 1, y1 - 1, x1    , y1    , PlayBR )"	// Bottom Right
			}
		}
		
		DetailsLaunchButton:Hover
		{   
			render
			{
				0="image( x0 + 65, y0 + 3, x1, y1, graphics/play_dl )"
			}
			render_bg
			{
				// Background
				0="gradient( x0 + 1, y0 + 1, x1 - 1, y1 - 1, PlayBGH, PlayBG2 )"
                
				// Border
				1="fill( x0 + 1, y0    , x1 - 1, y0 + 1, PlayTP )"	// Top
				2="fill( x0 + 1, y1 - 1, x1 - 1, y1    , PlayBT )"	// Bottom
				3="gradient( x0    , y0 + 1, x0 + 1, y1 - 1, PlaySD1, PlaySD2 )"	// Left
				4="gradient( x1 - 1, y0 + 1, x1    , y1 - 1, PlaySD1, PlaySD2 )"	// Right
				
				// Corners
				5="fill( x0    , y0    , x0 + 1, y0 + 1, PlayTL )"	// Top Left
				6="fill( x1 - 1, y0    , x1    , y0 + 1, PlayTR )"	// Top Right
				7="fill( x0    , y1 - 1, x0 + 1, y1    , PlayBL )"	// Bottom Left
				8="fill( x1 - 1, y1 - 1, x1    , y1    , PlayBR )"	// Bottom Right
			}	
		}
		
		SmResumeButton // Small Button: Resume
		{   
			inset="30 0 0 0"
			bgcolor=none
			render
			{
				0="image( x0, y0, x1, y1, graphics/dl_resume )"
			}
		}
		
		SmResumeButton:Hover
		{   
			render
			{
				0="image( x0, y0, x1, y1, graphics/dl_resume_hover )"
			}
		}
		
		SmPauseButton // Small Button: Pause
		{
			inset="30 0 0 0"
			bgcolor=none
			render
			{
				0="image( x0, y0, x1, y1, graphics/dl_pause )"
			}
		}
		
		SmPauseButton:Hover
		{   
			render
			{
				0="image( x0, y0, x1, y1, graphics/dl_pause_hover )"
			}
		}
		
		SmRemoveButton // Small Button: Close
		{   
			inset="30 0 0 0"
			bgcolor=none
			render
			{
				0="image( x0, y0, x1, y1, graphics/dl_close )"
			}
		}
		
		SmRemoveButton:Hover
		{   
			render
			{
				0="image( x0, y0, x1, y1, graphics/dl_close_hover )"
			}
		}
		
		ProgressBar
		{
			textcolor=Focus
			render_bg
			{
				0="fill( x0, y0, x1, y1, PropertySheetBG )"	// Background
			}
			render {}
		}
	}
	
	layout
	{
		region	{ name="top" width=max height=40 y=26 }
		region	{ name="mid" width=max y=48 height=124 }
		region	{ name="bottom" width=max y=121 height=60 width=400 }
		region	{ name="left" width=max y=26 }
		
		place	{ control="bgimage1" width=max height="max" }
		
		// top section
		place { control="namelabel" margin-top=3 margin-left=30 }
		place { control="updatetypelabel" region="top" width=216 margin-top=16 align=left margin-left=244 }
		place { control="pauseresumebutton" region="top" x=492 spacing=10 margin-right=16 margin-top=10 width=28 align=right}
		
		// fill in the middle section
		place { control="gameimage" region="left" margin-left=24 margin-top=15 width=184 height=69 }
		place { control="GraphPanel" region="mid" x=470 width="max" width="35" height="70" margin-top=18 margin-right=14 }
		place { control="graphdownloadrate" region="top" x=461 margin-top=12 height=30 }
		place { control="downloadtotallabel,downloadtotalfield" region="mid" x=226 align=top margin-left=4 margin-top=15 spacing=6 }
		place { control="starttimelabel,starttimefield" region="mid" dir="right" align=top spacing=6 margin-top=36 x=226 }
		place { control="timeremaininglabel,timeremainingfield" region="mid" x=226 align=top margin-top=54 spacing=6 }
		place { control="downloadprogressbar" region="mid" x=227 width="207" height="16" align=top margin-left=-1 margin-top=15 }
		
		// put the buttons along the bottom
		place { control="launchbutton" align="top" region=mid x=23 margin-top=69 height=20 width=186 }
		place { control="librarylink,newslink" dir="right" align="top" region=mid spacing=10 x=224 margin-top=73 width=82 }
	}
}
